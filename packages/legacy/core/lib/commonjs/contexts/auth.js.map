{"version":3,"names":["require","_askar","_core","_reactHooks","_reactNative","_react","_interopRequireWildcard","_reactI18next","_reactNative2","_constants","_store","_store2","_keychain","_crypto","_migration","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","AuthContext","exports","createContext","AuthProvider","children","walletSecret","setWalletSecret","useState","store","dispatch","useStore","agent","useAgent","useTranslation","setPIN","PIN","secret","secretForPIN","storeWalletSecret","getWalletCredentials","key","err","loadWalletSecret","DeviceEventEmitter","emit","EventTypes","BIOMETRY_ERROR","undefined","commitPIN","useBiometry","type","DispatchAction","DID_AUTHENTICATE","wipeWalletKey","checkPIN","loadWalletSalt","salt","hash","hashPIN","didMigrateToAskar","migration","migrateToAskar","id","DID_MIGRATE_TO_ASKAR","askarWallet","AskarWallet","ConsoleLogger","LogLevel","off","agentDependencies","FileSystem","SigningProviderRegistry","open","close","fullSecret","removeSavedWalletSecret","disableBiometrics","rekeyWallet","oldPin","newPin","oldHash","newSecret","newHash","wallet","rotateKey","rekey","createElement","Provider","value","isBiometricsActive","useAuth","useContext"],"sourceRoot":"../../../App","sources":["contexts/auth.tsx"],"mappings":"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","ignoreList":[]}