{"version":3,"names":["_anoncreds","require","_core","getPredicateTypeAndValues","predicateFilter","predicates","supportedJsonSchemaNumericRangeProperties","exclusiveMinimum","exclusiveMaximum","minimum","maximum","key","value","Object","entries","predicateType","Error","push","predicateValue","getClaimNameForField","field","path","baseClaimPath","claimPaths","filter","startsWith","length","undefined","claimNames","map","slice","propertyName","createAnonCredsProofRequest","presentationDefinition","descriptorMetadata","anonCredsProofRequest","version","name","nonce","requested_attributes","requested_predicates","nonRevokedTime","Math","floor","Date","now","nonRevokedInterval","from","to","descriptor","input_descriptors","_descriptor$constrain","referent","id","predicateReferentIndex","fields","constraints","requiresRevocationStatus","credentialMeta","restrictions","cred_def_id","anonCredsTags","anonCredsCredentialDefinitionId","schema_id","anonCredsSchemaId","predicate","predicateTypeAndValues","predicateReferent","p_type","p_value","non_revoked","descriptorId","names","exports","getDescriptorMetadata","credentialsForRequest","requestedAttribute","values","requirements","entry","submissionEntry","inputDescriptorId","recordsWithMetadata","verifiableCredentials","submissionEntryCredential","type","ClaimFormat","LdpVc","record","credentialRecord","getAnonCredsTagsFromRecord","recordWithMetadata","find","item","filterInvalidProofRequestMatches","anonCredsCredentialsForRequest","attributes","fromEntries","matches","descriptorMeta","validCredentialsForReferent","meta","validMatches","match","includes","credentialId","_referent","split","join"],"sourceRoot":"../../../App","sources":["utils/anonCredsProofRequestMapper.ts"],"mappings":"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","ignoreList":[]}