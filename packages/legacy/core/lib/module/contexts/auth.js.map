{"version":3,"names":["AskarWallet","ConsoleLogger","LogLevel","SigningProviderRegistry","useAgent","agentDependencies","React","createContext","useContext","useState","useTranslation","DeviceEventEmitter","EventTypes","DispatchAction","useStore","isBiometricsActive","loadWalletSalt","loadWalletSecret","secretForPIN","storeWalletSecret","wipeWalletKey","hashPIN","didMigrateToAskar","migrateToAskar","AuthContext","AuthProvider","children","walletSecret","setWalletSecret","store","dispatch","agent","t","setPIN","PIN","secret","getWalletCredentials","key","err","emit","BIOMETRY_ERROR","undefined","commitPIN","useBiometry","type","DID_AUTHENTICATE","checkPIN","salt","hash","migration","id","DID_MIGRATE_TO_ASKAR","askarWallet","off","FileSystem","open","close","fullSecret","e","removeSavedWalletSecret","disableBiometrics","rekeyWallet","oldPin","newPin","oldHash","newSecret","newHash","wallet","rotateKey","rekey","createElement","Provider","value","useAuth"],"sourceRoot":"../../../App","sources":["contexts/auth.tsx"],"mappings":"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","ignoreList":[]}